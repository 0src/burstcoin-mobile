<ActionBar class="action-bar">
    <StackLayout orientation="horizontal">
        <Image class="logo-tiny m-r-15" src="res://logo"></Image>
        <Label class="action-bar-title" text="Create New Wallet"></Label>
    </StackLayout>
</ActionBar>


<StackLayout class="page-content" orientation="vertical">

    <StackLayout class="container" orientation="vertical">
        <Image *ngIf="this.step != 0" class="logo-small m-b-15 m-t-15" src="res://logo"></Image>
        <Image *ngIf="this.step == 0" class="logo-normal m-b-15 m-t-15" src="res://logo"></Image>

        <StackLayout *ngIf="this.step != 0" class="info-container" orientation="vertical">
            <StackLayout orientation="vertical">
                <Label *ngIf="this.step != 0" class="top text-view-label fa" text="&#xf05a;"></Label>
                <Label *ngIf="this.step == 1" class="bottom" textWrap="true" text="First, create a random seed for the generation of your passphrase!"></Label>
                <Label *ngIf="this.step == 2" class="bottom" textWrap="true" text="Now you have to memorize all 12 words of your passphrase in the right order!"></Label>
                <Label *ngIf="this.step == 3" class="bottom" textWrap="true" text="Please reenter the words of your passphrase!"></Label>
                <Label *ngIf="this.step == 4" class="bottom" textWrap="true" text="Please set a six-digit pin code for your wallet. The pin code is used to approve outgoing transactions."></Label>
            </StackLayout>
        </StackLayout>

        <StackLayout *ngIf="this.step == 0" orientation="vertical">
            <ActivityIndicator busy="true" width="100" height="100" class="activity-indicator"></ActivityIndicator>
        </StackLayout>

        <StackLayout *ngIf="this.step == 1" style="padding: 0px;" class="body-container m-t-10" orientation="vertical">
            <StackLayout (touch)="onTouch($event)" class="seed-area" orientation="vertical">
                <Label class="font-weight-bold" text="Tap and swipe over this area!"></Label>
                <StackLayout class="seed-progress" orientation="vertical">
                    <Progress [value]="seed.length" [maxValue]="seedLimit" class="m-20"></Progress>
                </StackLayout>
            </StackLayout>
        </StackLayout>

        <StackLayout *ngIf="this.step == 2">
            <StackLayout class="body-container" orientation="vertical">
                <Label class="top" textWrap="true" text="Write down the following words and keep them secret!"></Label>
                <Label class="chip" [text]="passPhrase[word]"></Label>
                <Button class="btn btn-primary btn-active action-button fa" text="Next &#xf18e;" (tap)="onTapNext($event)"></Button>
            </StackLayout>
        </StackLayout>

        <StackLayout *ngIf="this.step == 3" class="body-container m-b-15" orientation="vertical">
            <Label class="solo" text="Write down word #{{ word + 1 }} and select it!"></Label>
            <StackLayout class="possibilities" orientation="horizontal">
                <Button *ngFor="let possibility of retypePassPhrase" class="btn btn-primary btn-active possibility-button" [text]="possibility" (tap)="onTapPossibility($event)"></Button>
            </StackLayout>
            <TextField class="input" [text]="try" (textChange)="onChange($event)"></TextField>
        </StackLayout>

        <StackLayout *ngIf="this.step == 4" orientation="vertical">
            <StackLayout class="body-container" orientation="vertical">
                <Label class="text-view-label fa top" text="&#xf292; PIN"></Label>
                <TextField class="input" [(ngModel)]="pin" keyboardType="number" returnKeyType="done"></TextField>
            </StackLayout>
            <StackLayout orientation="vertical">
                <Button class="btn btn-primary btn-active action-button fa" text="Done &#xf00c;" (tap)="onTapDone($event)"></Button>
            </StackLayout>
        </StackLayout>

        <StackLayout *ngIf="this.step != 0" class="progress-bottom" orientation="vertical">
            <StackLayout *ngIf="this.step == 2 || this.step == 3">
                <Button class="generate-again-button btn btn-primary btn-active fa" text="Generate Again &#xf021;" (tap)="onTapGenerateAgain($event)"></Button>
            </StackLayout>
            <StackLayout *ngIf="this.step != 3 && this.step != 2" class="bottom-filler"></StackLayout>
            <Progress class="m-20 progress-bar" *ngIf="this.step > 0" [value]="step - 1" maxValue="5"></Progress>
        </StackLayout>
    </StackLayout>
</StackLayout>
