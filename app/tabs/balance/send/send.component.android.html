<ActionBar class="action-bar">
    <StackLayout orientation="horizontal">
        <Image class="logo-tiny m-r-15" src="res://logo"></Image>
        <Label class="action-bar-title" [text]="'SEND.ACTION_BAR_TITLE' | translate"></Label>
    </StackLayout>
</ActionBar>

<StackLayout class="page-content" orientation="vertical">
    <StackLayout class="container">

        <StackLayout *ngIf="this.step == 1">
            <StackLayout class="body-container" orientation="vertical">
                <Label class="font-italic p-b-15 huge-label" [text]="('SEND.BALANCE' | translate) + ': ' + balance"></Label>
                <StackLayout class="hr-light"></StackLayout>
                <GridLayout class="text-left m-t-10" columns="*9, *2" rows="auto, auto">
                    <Label col="0" row="0" class="p-t-5 p-b-5 big-label fa" [text]="'&#xf2bc; ' + ('SEND.RECIPIENT' | translate)"></Label>
                    <TextField col="0" row="1" class="input recipient-input" [(ngModel)]="recipient" (returnPress)="formatRecipient()"></TextField>
                    <Button col="1" row="0" rowspan="2" class="scan-button btn btn-primary btn-active fa text-center" text="&#xf083;" (tap)=onTapScan($event)></Button>
                </GridLayout>
                <StackLayout class="hr-light m-t-10 m-b-10"></StackLayout>
                <GridLayout class="text-left m-b-10" columns="100, auto, 70, *" rows="auto, auto">
                    <Label col="0" row="0" class="p-t-5 p-b-5 big-label fa" [text]="'&#xf0d6; ' + ('SEND.AMOUNT' | translate)"></Label>
                    <TextField col="0" row="1" class="input-border number-input" keyboardType="number" [(ngModel)]="amount" (ngModelChange)="verifyInputs('amount')"></TextField>
                    <Label col="2" row="0" class="p-t-5 p-b-5 big-label fa" [text]="'&#xf0ec; ' + ('SEND.FEE' | translate)"></Label>
                    <TextField col="2" row="1" class="input-border number-input" keyboardType="number" [(ngModel)]="fee" (ngModelChange)="verifyInputs('fee')"></TextField>
                    <Label col="1" row="1" rowspan="2" class="p-10 fa text-center" text="+"></Label>
                    <Label col="3" row="1" rowspan="2" class="p-5 fa text-center" [text]="'= ' + marketService.getPriceFiatCurrency(total)"></Label>
                </GridLayout>
                <StackLayout class="hr-light"></StackLayout>
            </StackLayout>
            <StackLayout class="m-b-20" orientation="vertical">
                <Button class="btn btn-primary btn-active action-button fa" [text]="('SEND.VERIFY' | translate) +  ' &#xf132;'" (tap)="onTapVerify($event)"></Button>
            </StackLayout>
        </StackLayout>

        <StackLayout *ngIf="this.step == 2">
            <StackLayout class="body-container" orientation="vertical">
                <Label class="font-italic p-b-15 huge-label" [text]="('SEND.BALANCE' | translate) + ': ' + balance"></Label>
                <StackLayout class="hr-light"></StackLayout>
                <GridLayout class="text-left m-t-10 m-b-10" columns="auto, auto, *" rows="auto, auto, auto">
                    <Label col="0" row="0" class="p-t-5 p-b-5 fa" text="&#xf2bc;  "></Label>
                    <Label col="1" row="0" colspan="2" class="p-t-5 p-b-5 p-l-5 fa" [text]="recipient"></Label>

                    <Label col="0" row="1" class="p-t-5 p-b-5 fa" text="&#xf0d6;  "></Label>
                    <Label col="1" row="1" class="p-t-5 p-b-5 p-l-5 fa" [text]="amount"></Label>

                    <Label col="0" row="2" class="p-t-5 p-b-5 fa" text="&#xf0ec;  "></Label>
                    <Label col="1" row="2" class="p-t-5 p-b-5 p-l-5 fa" [text]="fee"></Label>

                    <Label col="2" row="1" rowspan="2" style="vertical-align:middle" class="p-5 p-l-15" [text]="'= ' + marketService.getPriceFiatCurrency(total)"></Label>
                </GridLayout>
                <StackLayout class="hr-light"></StackLayout>
            </StackLayout>
            <StackLayout *ngIf="!processing">
                <StackLayout class="body-container m-b-5" orientation="vertical">
                    <TextField class="input" [(ngModel)]="pin" [hint]="'SEND.PIN_INPUT_HINT' | translate" keyboardType="number" returnKeyType="done" secure="true"></TextField>
                </StackLayout>
                <StackLayout class="m-b-20" orientation="vertical">
                    <Button class="btn btn-primary btn-active action-button fa" [text]="('SEND.ACCEPT' | translate) +  ' &#xf05d;'" (tap)="onTapAccept($event)"></Button>
                </StackLayout>
            </StackLayout>
            <StackLayout class="p-20" *ngIf="processing">
                <ActivityIndicator busy="true" width="100" height="100" class="activity-indicator"></ActivityIndicator>
            </StackLayout>
        </StackLayout>
    </StackLayout>
</StackLayout>
